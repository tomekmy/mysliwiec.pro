var myApp=angular.module("myApp",["ngRoute","ngAnimate","ngSanitize","angular-google-analytics"]);myApp.constant("logContent","Show content"),myApp.provider("lag",function(){this.$get=["$window","$timeout",function(t,o){return{mainLag:function(){var e=93,n=4800;if("pl"===t.userLang&&(e=115,n=5700),console.log($(".content-wrapper__mainText span").length),console.log(e),$(".content-wrapper__mainText span").length>e){$(".content-wrapper__mainText span:last").remove(),$("body").css("overflow","hidden");var i=o(function(){$("body").css("overflow","visible")},n);return console.log("Enter from Main. Timeout ID: "+i.$$timeoutId),i}}}}]}),myApp.service("appServices",["$timeout","$location","$window",function(t,o,e){return{activeLink:function(){"/"===o.path()?($(".menu__item--link").first().css("color","#990000"),console.log("Active page: /main")):$(".menu__item--link").each(function(){"#"+o.path()===$(this).attr("href")?($(this).css("color","#990000"),console.log("Active page: "+o.path())):$(this).css("color","#1b1b1b")})},validateEmail:function(t){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},footerPosition:function(){t(function(){var t=0;$(".footer").css("bottom",t+"px"),$(document).height()>$(e).height()&&(t=$(e).height()-$(document).height()-40),$(".footer").css("bottom",t+"px")},600)}}}]),myApp.config(["AnalyticsProvider",function(t){t.setAccount("UA-5968901-19")}]).run(["Analytics",function(t){}]),myApp.config(["$routeProvider","lagProvider","$locationProvider",function(t,o,e){t.when("/",{templateUrl:"partials/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"partials/about.html",controller:"AboutCtrl",resolve:{lag:["lag",function(t){return t.mainLag()}]}}).when("/portfolio",{templateUrl:"partials/portfolio.html",controller:"PortfolioCtrl",resolve:{lag:["lag",function(t){return t.mainLag()}]}}).when("/contact",{templateUrl:"partials/contact.html",controller:"ContactCtrl",resolve:{lag:["lag",function(t){return t.mainLag()}]}}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]),myApp.controller("NavCtrl",["$scope","$location","$window","appServices",function(t,o,e,n){e.dataJSON.done(function(){var o=e.dataJSON.responseJSON;$.each(o.menu,function(t,o){$(".menu__items").append('<li class="menu__item"><a class="menu__item--link" href="#/'+t+'">'+o+"</a></li>"),$(".menu__item--link").hover(function(){$(this).parent().stop(!0,!1).animate({left:"20px"},500)},function(){$(this).parent().stop(!0,!1).animate({left:"0px"},500,"easeOutBounce")})}),n.activeLink(),t.$on("$routeChangeStart",function(t,o){n.activeLink()})})}]),myApp.controller("MainCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(t,o,e,n,i,a){n.dataJSON.done(function(){var o=n.dataJSON.responseJSON;$(".content-wrapper__mainText").html(o.main.mainText),console.log("Add text to elements"),$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),$(".content-wrapper__mainText p:eq(0)").show().textillate({in:{effect:"bounceIn",delay:40},out:{effect:"hinge",delay:70,shuffle:!0,sync:!1,delayScale:7}});var o=e(function(){$(".content-wrapper__mainText p:eq(1)").show().textillate({in:{effect:"bounceIn",delay:40},out:{effect:"hinge",delay:40,shuffle:!0,sync:!1,delayScale:2}}),i.footerPosition()},500),l=e(function(){$(".content-wrapper__mainText p:eq(2)").show().textillate({in:{effect:"bounceIn",delay:40,callback:function(){$(".content-wrapper__mainText p:eq(2)").append("<span></span>")}},out:{effect:"hinge",delay:40,shuffle:!0,sync:!1,delayScale:2}}),i.footerPosition()},3100);i.footerPosition(),t.$on("$routeChangeStart",function(t,i){e.cancel(o),e.cancel(l),$(".content-wrapper__mainText p").textillate("stop");var a=93;"pl"===n.userLang&&(a=115),$(".content-wrapper__mainText span").length>a&&$(".content-wrapper__mainText p").textillate("out")})})})}]),myApp.controller("AboutCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(t,o,e,n,i,a){n.dataJSON.done(function(){var t=n.dataJSON.responseJSON;$(".about-intro__text").html(t.about.introText),$(".about-intro__site-header").html(t.about.introSiteHeader),$(".about-intro__site-text").html(t.about.introSiteText),$(".about-intro__certificates-header").html(t.about.introCertificatesHeader),$(".about-intro__certificates-text").html(t.about.introCertificatesText),$(".about-skills__header-coding").html(t.about.headerCoding),$(".about-skills__header-frameworks").html(t.about.headerFrameworks),$(".about-skills__header-technologies").html(t.about.headerTechnologies),$(".about-skills__header-cms").html(t.about.headerCMS),$(".about-skills__header-software").html(t.about.headerSoftware),console.log("Add text to elements")}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),n.enterView({selector:".about-skills div div",trigger:function(t){$(t).css("width",$(t).find("span").text()),e(function(){$(t).css("color","#1b1b1b")},350),console.log("On screen: "+t)}}),i.footerPosition()})})}]),myApp.controller("PortfolioCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(t,o,e,n,i,a){var l=new n.Image;l.src="img/spinner-animation.gif",$(l).load(function(){n.dataJSON.done(function(){var t=n.dataJSON.responseJSON;$(".portfolio__online-header").html(t.portfolio.online.header);for(let o=0;o<t.portfolio.online.works.length;o++)$(".portfolio__online-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+t.portfolio.online.works[o].img+'" src="img/spinner-animation.gif" alt="Portfolio img"><div class="portfolio-item__wrapper"><div class="portfolio-item__header">'+t.portfolio.online.works[o].title+'</div><a class="portfolio-item__url" href="http://'+t.portfolio.online.works[o].url+'">'+t.portfolio.online.works[o].url+'</a><div class="portfolio-item__description">'+t.portfolio.online.works[o].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>');$(".portfolio__offline-header").html(t.portfolio.offline.header);for(let o=0;o<t.portfolio.offline.works.length;o++)$(".portfolio__offline-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+t.portfolio.offline.works[o].img+'" src="img/spinner-animation.gif" alt="Portfolio img"><div class="portfolio-item__wrapper"><div class="portfolio-item__header">'+t.portfolio.offline.works[o].title+'</div><div class="portfolio-item__description">'+t.portfolio.offline.works[o].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>')}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),n.enterView({selector:".portfolio-item",trigger:function(t){$(t).css("opacity","1"),$(t).find("img").attr("src",$(t).find("img").attr("data-src")),console.log("On screen: "+t)}}),i.footerPosition()})})})}]),myApp.controller("ContactCtrl",["$scope","$location","$window","appServices","logContent",function(t,o,e,n,i){e.dataJSON.done(function(){function t(){var t=0,i=$(".form__subject");i.val()||i.val(i.attr("placeholder")),$(".form__row").each(function(){$(this).children().first().val().length<3?(t++,$(this).children().first().css("border-color","#990000"),$(this).find("label span").remove(),$(this).find("label").append("<span> ("+o.contact.minimumError+")</span>")):($(this).children().first().css("border-color","#dfdfe4"),$(this).find("label span").remove())}),n.validateEmail($(".form__email").val())?($(".form__email  + label span").remove(),$(".form__email").css("border-color","#dfdfe4")):(t++,console.log("Check email"),$(".form__email  + label span").remove(),$(".form__email").css("border-color","#990000"),$(".form__email  + label").append("<span> ("+o.contact.emailError+")</span>")),console.log("Errors: "+t),0===t&&e.grecaptcha.execute()}var o=e.dataJSON.responseJSON;$(".contact__details").html(o.contact.description),$(".form__name + label").html(o.contact.name),$(".form__email  + label").html(o.contact.email),$(".form__subject  + label").html(o.contact.subject),$(".form__subject").attr("placeholder",o.contact.defaultSubject),$(".form__message  + label").html(o.contact.message),$(".form__submit").html(o.contact.submit),window.sendData=function(){var t=$("form").attr("action"),e={name:$(".form__name").val(),email:$(".form__email").val(),subject:$(".form__subject").val(),massage:$(".form__message").val()};$.post(t,{description:e.description,name:e.name,email:e.email,subject:e.subject,massage:e.massage,sendOk:o.sendOk,sendError:o.sendError}).done(function(t){$(".form__submit").text(t)})},$(".form__submit").click(function(){t()}),$(".form").keyup(function(o){13===o.keyCode&&t()})}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(i),n.footerPosition(),$.getScript("https://www.google.com/recaptcha/api.js")})})}]);