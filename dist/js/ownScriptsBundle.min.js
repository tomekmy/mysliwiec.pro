function langButton(o){"pl"===o?$(".footer__lang-icon div").attr("title","Switch language").text("EN").css("left","0.33em"):$(".footer__lang-icon div").attr("title","Zmień język").text("PL").css("left","0.41em")}!function(o){o.fn.hideEmail=function(t,e,n){t=t||"user",e=e||"site.com",n=n||t+"&#064;"+e,this.each(function(){var i='<a href="&#109;&#097;&#105;&#108;&#116;&#111;:'+t+"&#064;"+e+'" title="E-mail address">'+n+"</a>";o(this).prepend(i)})},o.cookieInfo=function(t){t=o.extend({cookieInfo:"cookie-info",info:"Używam technologii cookies tylko dla celów statystycznych.",close:"Rozumiem"},t||{}),localStorage.cookieInfo||(o("body").append('<div class="'+t.cookieInfo+'"><span>'+t.info+'</span> <a class="'+t.cookieInfo+'__button" href="#">'+t.close+"</a></div>"),o("."+t.cookieInfo+"__button").on("click",function(t){t.preventDefault(),localStorage.cookieInfo=!0,o(this).parent().remove()}))}}(jQuery),$(document).ready(function(){"pl"===window.userLang?$.cookieInfo():$.cookieInfo({info:"I use cookies technology for statistical purposes only.",close:"OK"}),$(".header__logo h2").textillate({in:{effect:"fadeInLeftBig"}}),$(".footer__icons").hideEmail("tomek","mysliwiec.pro",'<div class="circle"><div class="email"></div></div>'),langButton(window.userLang),$(".footer__lang-icon").click(function(){"pl"===window.userLang?window.localStorage.userLang="en":window.localStorage.userLang="pl",window.location.reload()}),$(window).scroll(function(){$(this).scrollTop()>100?$(".scrollup").fadeIn():$(".scrollup").fadeOut()}),$(".scrollup").click(function(o){return o.preventDefault(),$("html, body").animate({scrollTop:0},600),!1}),$(".menu__icon").click(function(){$(this).toggleClass("menu__icon--change"),$(".menu__items").toggle(400)}),$(window).on("click scroll",function(){$(".menu__icon").hasClass("menu__icon--change")&&!$(".menu__items").is(":animated")&&($(".menu__icon").removeClass("menu__icon--change"),$(".menu__items").fadeOut(400))})}),$(window).resize(function(){var o=0;$(".footer").css("bottom",o+"px"),$(document).height()>$(window).height()&&(o=$(window).height()-$(document).height()-40),$(".footer").css("bottom",o+"px")});var myApp=angular.module("myApp",["ngRoute","ngAnimate","ngSanitize","angular-google-analytics"]);myApp.constant("logContent","Show content"),myApp.provider("lag",function(){this.$get=["$window","$timeout",function(o,t){return{mainLag:function(){var e=93;if("pl"===o.userLang&&(e=115),$(".content-wrapper__mainText span").length>e){$(".content-wrapper__mainText span:last").remove(),$("body").css("overflow","hidden");var n=t(function(){$("body").css("overflow","visible")},3500);return console.log("Enter from Main. Timeout ID: "+n.$$timeoutId),n}}}}]}),myApp.service("appServices",["$timeout","$location","$window",function(o,t,e){return{activeLink:function(){"/"===t.path()?($(".menu__item--link").first().css("color","#990000"),console.log("Active page: /main")):$(".menu__item--link").each(function(){"#"+t.path()===$(this).attr("href")?($(this).css("color","#990000"),console.log("Active page: "+t.path())):$(this).css("color","#1b1b1b")})},validateEmail:function(o){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)},footerPosition:function(){o(function(){var o=0;$(".footer").css("bottom",o+"px"),$(document).height()>$(e).height()&&(o=$(e).height()-$(document).height()-40),$(".footer").css("bottom",o+"px")},600)}}}]),myApp.config(["AnalyticsProvider",function(o){o.setAccount("UA-5968901-19")}]).run(["Analytics",function(o){}]),myApp.config(["$routeProvider","lagProvider","$locationProvider",function(o,t,e){o.when("/",{templateUrl:"partials/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"partials/about.html",controller:"AboutCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).when("/portfolio",{templateUrl:"partials/portfolio.html",controller:"PortfolioCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).when("/contact",{templateUrl:"partials/contact.html",controller:"ContactCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]),myApp.controller("NavCtrl",["$scope","$location","$window","appServices",function(o,t,e,n){e.dataJSON.done(function(){var t=e.dataJSON.responseJSON;$.each(t.menu,function(o,t){$(".menu__items").append('<li class="menu__item"><a class="menu__item--link" href="#/'+o+'">'+t+"</a></li>"),$(".menu__item--link").hover(function(){$(this).parent().stop(!0,!1).animate({left:"20px"},500)},function(){$(this).parent().stop(!0,!1).animate({left:"0px"},500,"easeOutBounce")})}),n.activeLink(),o.$on("$routeChangeStart",function(o,t){n.activeLink()})})}]),myApp.controller("MainCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,t,e,n,i,a){n.dataJSON.done(function(){var t=n.dataJSON.responseJSON;$(".content-wrapper__mainText").html(t.main.mainText),console.log("Add text to elements"),$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),$(".content-wrapper__mainText p:eq(0)").show().textillate({in:{effect:"bounceIn",delay:30},out:{effect:"hinge",delay:40,shuffle:!0,sync:!1,delayScale:7}});var t=e(function(){$(".content-wrapper__mainText p:eq(1)").show().textillate({in:{effect:"bounceIn",delay:30},out:{effect:"hinge",delay:15,shuffle:!0,sync:!1,delayScale:2}}),i.footerPosition()},400),l=e(function(){$(".content-wrapper__mainText p:eq(2)").show().textillate({in:{effect:"bounceIn",delay:30,callback:function(){$(".content-wrapper__mainText p:eq(2)").append("<span></span>")}},out:{effect:"hinge",delay:15,shuffle:!0,sync:!1,delayScale:2}}),i.footerPosition()},2300);i.footerPosition(),o.$on("$routeChangeStart",function(o,i){e.cancel(t),e.cancel(l),$(".content-wrapper__mainText p").textillate("stop");var a=93;"pl"===n.userLang&&(a=115),$(".content-wrapper__mainText span").length>a&&$(".content-wrapper__mainText p").textillate("out")})})})}]),myApp.controller("AboutCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,t,e,n,i,a){n.dataJSON.done(function(){var o=n.dataJSON.responseJSON;$(".about-intro__text").html(o.about.introText),$(".about-intro__site-header").html(o.about.introSiteHeader),$(".about-intro__site-text").html(o.about.introSiteText),$(".about-intro__certificates-header").html(o.about.introCertificatesHeader),$(".about-intro__certificates-text").html(o.about.introCertificatesText),$(".about-skills__header-coding").html(o.about.headerCoding),$(".about-skills__header-frameworks").html(o.about.headerFrameworks),$(".about-skills__header-technologies").html(o.about.headerTechnologies),$(".about-skills__header-cms").html(o.about.headerCMS),$(".about-skills__header-software").html(o.about.headerSoftware),console.log("Add text to elements")}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),n.enterView({selector:".about-skills div div",trigger:function(o){$(o).css("width",$(o).find("span").text()),e(function(){$(o).css("color","#1b1b1b")},350),console.log("On screen: "+o)}}),i.footerPosition()})})}]),myApp.controller("PortfolioCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,t,e,n,i,a){var l=new n.Image;l.src="img/spinner-animation.gif",$(l).load(function(){n.dataJSON.done(function(){var o=n.dataJSON.responseJSON;$(".portfolio__online-header").html(o.portfolio.online.header);for(let t=0;t<o.portfolio.online.works.length;t++)$(".portfolio__online-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+o.portfolio.online.works[t].img+'" src="img/spinner-animation.gif" alt="Portfolio img"><div class="portfolio-item__wrapper"><div class="portfolio-item__header">'+o.portfolio.online.works[t].title+'</div><a class="portfolio-item__url" href="http://'+o.portfolio.online.works[t].url+'">'+o.portfolio.online.works[t].url+'</a><div class="portfolio-item__description">'+o.portfolio.online.works[t].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>');$(".portfolio__offline-header").html(o.portfolio.offline.header);for(let t=0;t<o.portfolio.offline.works.length;t++)$(".portfolio__offline-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+o.portfolio.offline.works[t].img+'" src="img/spinner-animation.gif" alt="Portfolio img"><div class="portfolio-item__wrapper"><div class="portfolio-item__header">'+o.portfolio.offline.works[t].title+'</div><div class="portfolio-item__description">'+o.portfolio.offline.works[t].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>')}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),n.enterView({selector:".portfolio-item",trigger:function(o){$(o).css("opacity","1"),$(o).find("img").attr("src",$(o).find("img").attr("data-src")),console.log("On screen: "+o)}}),i.footerPosition()})})})}]),myApp.controller("ContactCtrl",["$scope","$location","$window","appServices","logContent",function(o,t,e,n,i){e.dataJSON.done(function(){function o(){var o=0,i=$(".form__subject");i.val()||i.val(i.attr("placeholder")),$(".form__row").each(function(){$(this).children().first().val().length<3?(o++,$(this).children().first().css("border-color","#990000"),$(this).find("label span").remove(),$(this).find("label").append("<span> ("+t.contact.minimumError+")</span>")):($(this).children().first().css("border-color","#dfdfe4"),$(this).find("label span").remove())}),n.validateEmail($(".form__email").val())?($(".form__email  + label span").remove(),$(".form__email").css("border-color","#dfdfe4")):(o++,console.log("Check email"),$(".form__email  + label span").remove(),$(".form__email").css("border-color","#990000"),$(".form__email  + label").append("<span> ("+t.contact.emailError+")</span>")),console.log("Errors: "+o),0===o&&e.grecaptcha.execute()}var t=e.dataJSON.responseJSON;$(".contact__details").html(t.contact.description),$(".form__name + label").html(t.contact.name),$(".form__email  + label").html(t.contact.email),$(".form__subject  + label").html(t.contact.subject),$(".form__subject").attr("placeholder",t.contact.defaultSubject),$(".form__message  + label").html(t.contact.message),$(".form__submit").html(t.contact.submit),window.sendData=function(){var o=$("form").attr("action"),e={name:$(".form__name").val(),email:$(".form__email").val(),subject:$(".form__subject").val(),massage:$(".form__message").val()};$.post(o,{description:e.description,name:e.name,email:e.email,subject:e.subject,massage:e.massage,sendOk:t.sendOk,sendError:t.sendError}).done(function(o){$(".form__submit").text(o)})},$(".form__submit").click(function(){o()}),$(".form").keyup(function(t){13===t.keyCode&&o()})}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(i),n.footerPosition(),$.getScript("https://www.google.com/recaptcha/api.js")})})}]);