function preloadImage(o){(new Image).src=o}function langButton(o){"pl"===o?$(".footer__lang-icon img").attr("src","img/en_icon_black.svg"):$(".footer__lang-icon img").attr("src","img/pl_icon_black.svg")}!function(o){o.fn.hideEmail=function(e,t,n){e=e||"user",t=t||"site.com",n=n||e+"&#064;"+t,this.each(function(){var i='<a href="&#109;&#097;&#105;&#108;&#116;&#111;:'+e+"&#064;"+t+'" title="E-mail address">'+n+"</a>";o(this).prepend(i)})},o.cookieInfo=function(e){e=o.extend({cookieInfo:"cookie-info",info:"Używam technologii cookies tylko dla celów statystycznych.",close:"Rozumiem"},e||{}),localStorage.cookieInfo||(o("body").append('<div class="'+e.cookieInfo+'"><span>'+e.info+'</span> <a class="'+e.cookieInfo+'__button" href="#">'+e.close+"</a></div>"),o("."+e.cookieInfo+"__button").on("click",function(e){e.preventDefault(),localStorage.cookieInfo=!0,o(this).parent().remove()}))}}(jQuery),$(document).ready(function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").then(function(){console.log("Service Worker Registered")}),preloadImage("img/spinner-animation.gif"),"pl"===window.userLang?$.cookieInfo():$.cookieInfo({info:"I use cookies technology for statistical purposes only.",close:"OK"}),$(".header__logo h2").textillate({in:{effect:"fadeInLeftBig"}}),$(".footer__icons").hideEmail("tomek","mysliwiec.pro",'<img src="img/mail_icon_black.svg" alt="E-mail">'),langButton(window.userLang),$(".footer__lang-icon").click(function(){"pl"===window.userLang?window.localStorage.userLang="en":window.localStorage.userLang="pl",window.location.reload()}),$(window).scroll(function(){if($(this).scrollTop()>100){$(".scrollup").fadeIn();var o=$(document).height()-window.innerHeight-$(".footer").height();$(this).scrollTop()>o?$(".scrollup").css("bottom","5.5em"):$(".scrollup").css("bottom","1.1em")}else $(".scrollup").fadeOut()}),$(".scrollup").click(function(o){return o.preventDefault(),$("html, body").animate({scrollTop:0},600),!1}),$(".menu__icon").click(function(){$(this).toggleClass("menu__icon--change"),$(".menu__items").toggle(400)}),$(window).on("click scroll",function(){$(".menu__icon").hasClass("menu__icon--change")&&!$(".menu__items").is(":animated")&&($(".menu__icon").removeClass("menu__icon--change"),$(".menu__items").fadeOut(400))})});var myApp=angular.module("myApp",["ngRoute","ngAnimate","ngSanitize","angular-google-analytics"]);myApp.constant("logContent","Show content"),myApp.provider("lag",function(){this.$get=["$window","$timeout",function(o,e){return{mainLag:function(){var t=93;if("pl"===o.userLang&&(t=115),$(".content-wrapper__mainText span").length>t){$(".content-wrapper__mainText span:last").remove(),$("body").css("overflow","hidden");var n=e(function(){$("body").css("overflow","visible"),$("main").hide()},3500);return console.log("Enter from Main. Timeout ID: "+n.$$timeoutId),n}}}}]}),myApp.service("appServices",["$timeout","$location","$window",function(o,e,t){return{activeLink:function(){"/"===e.path()?($(".menu__item--link").first().css("color","#990000"),console.log("Active page: /main")):$(".menu__item--link").each(function(){"#"+e.path()===$(this).attr("href")?($(this).css("color","#990000"),console.log("Active page: "+e.path())):$(this).css("color","#1b1b1b")})},validateEmail:function(o){return/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)}}}]),myApp.config(["AnalyticsProvider",function(o){o.setAccount("UA-5968901-19")}]).run(["Analytics",function(o){}]),myApp.config(["$routeProvider","lagProvider","$locationProvider",function(o,e,t){o.when("/",{templateUrl:"partials/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"partials/about.html",controller:"AboutCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).when("/portfolio",{templateUrl:"partials/portfolio.html",controller:"PortfolioCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).when("/contact",{templateUrl:"partials/contact.html",controller:"ContactCtrl",resolve:{lag:["lag",function(o){return o.mainLag()}]}}).otherwise({redirectTo:"/"}),t.html5Mode(!0)}]),myApp.controller("NavCtrl",["$scope","$location","$window","appServices",function(o,e,t,n){t.dataJSON.done(function(){var e=t.dataJSON.responseJSON;$.each(e.menu,function(o,e){$(".menu__items").append('<li class="menu__item"><a class="menu__item--link" href="#/'+o+'">'+e+"</a></li>"),$(".menu__item--link").hover(function(){$(this).parent().stop(!0,!1).animate({left:"20px"},500)},function(){$(this).parent().stop(!0,!1).animate({left:"0px"},500,"easeOutBounce")})}),n.activeLink(),o.$on("$routeChangeStart",function(o,e){n.activeLink()})})}]),myApp.controller("MainCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,e,t,n,i,a){n.dataJSON.done(function(){var e=n.dataJSON.responseJSON;$(".content-wrapper__mainText").html(e.main.mainText),console.log("Add text to elements"),$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),$(".content-wrapper__mainText p:eq(0)").show().textillate({in:{effect:"bounceIn",delay:30},out:{effect:"hinge",delay:40,shuffle:!0,sync:!1,delayScale:7}});var e=t(function(){$(".content-wrapper__mainText p:eq(1)").show().textillate({in:{effect:"bounceIn",delay:30},out:{effect:"hinge",delay:15,shuffle:!0,sync:!1,delayScale:2}})},400),i=t(function(){$(".content-wrapper__mainText p:eq(2)").show().textillate({in:{effect:"bounceIn",delay:30,callback:function(){$(".content-wrapper__mainText p:eq(2)").append("<span></span>")}},out:{effect:"hinge",delay:15,shuffle:!0,sync:!1,delayScale:2}})},2300);o.$on("$routeChangeStart",function(o,a){t.cancel(e),t.cancel(i),$(".content-wrapper__mainText p").textillate("stop");var l=93;"pl"===n.userLang&&(l=115),$(".content-wrapper__mainText span").length>l&&$(".content-wrapper__mainText p").textillate("out")})})})}]),myApp.controller("AboutCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,e,t,n,i,a){n.dataJSON.done(function(){var o=n.dataJSON.responseJSON,e="";$(".about-intro__text").html(o.about.introText),$(".about-intro__site-header").html(o.about.introSiteHeader),$(".about-intro__site-text").html(o.about.introSiteText),$(".about-intro__certificates-header").html(o.about.introCertificatesHeader),o.about.introCertificate.map(function(o){console.log(o.target||"_self"),e+='<li><a href="'+o.link+'" target="'+(o.target||"_self")+'">'+o.description+"</a></li>"}),$(".about-intro__certificates-text").html("<ul>"+e+"</ul>"),$(".about-skills__header-coding").html(o.about.headerCoding),$(".about-skills__header-frameworks").html(o.about.headerFrameworks),$(".about-skills__header-technologies").html(o.about.headerTechnologies),$(".about-skills__header-cms").html(o.about.headerCMS),$(".about-skills__header-software").html(o.about.headerSoftware),console.log("Add text to elements")}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),t(function(){n.enterView({selector:".about-skills div div",trigger:function(o){$(o).css("width",$(o).find("span").text()),t(function(){$(o).css("color","#1b1b1b")},350),console.log("On screen: "+o)}})},700)})})}]),myApp.controller("PortfolioCtrl",["$scope","$location","$timeout","$window","appServices","logContent",function(o,e,t,n,i,a){var l=new n.Image;l.src="img/spinner-animation.gif",$(l).load(function(){n.dataJSON.done(function(){var o=n.dataJSON.responseJSON;$(".portfolio__online-header").html(o.portfolio.online.header);for(let e=0;e<o.portfolio.online.works.length;e++)$(".portfolio__online-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+o.portfolio.online.works[e].img+'.webp" src="img/spinner-animation.gif" onerror="this.onerror=null; this.src=\''+o.portfolio.online.works[e].img+'.jpg\'" alt="Portfolio img"><div class="portfolio-item__wrapper"><h4 class="portfolio-item__header">'+o.portfolio.online.works[e].title+'</h4><a class="portfolio-item__url" href="http://'+o.portfolio.online.works[e].url+'">'+o.portfolio.online.works[e].url+'</a><div class="portfolio-item__description">'+o.portfolio.online.works[e].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>');$(".portfolio__offline-header").html(o.portfolio.offline.header);for(let e=0;e<o.portfolio.offline.works.length;e++)$(".portfolio__offline-items").append('<div class="portfolio-item"><img class="portfolio-item__img" data-src="'+o.portfolio.offline.works[e].img+'" src="img/spinner-animation.gif" alt="Portfolio img"><div class="portfolio-item__wrapper"><h4 class="portfolio-item__header">'+o.portfolio.offline.works[e].title+'</h4><div class="portfolio-item__description">'+o.portfolio.offline.works[e].description+'</div></div><div class="portfolio-item__vline-left"></div><div class="portfolio-item__hline-left"></div><div class="portfolio-item__vline-right"></div><div class="portfolio-item__hline-right"></div></div>')}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(a),t(function(){n.enterView({selector:".portfolio-item",trigger:function(o){$(o).css("opacity","1"),$(o).find("img").attr("src",$(o).find("img").attr("data-src")),console.log("On screen: "+o)}})},700)})})})}]),myApp.controller("ContactCtrl",["$scope","$location","$window","appServices","logContent",function(o,e,t,n,i){t.dataJSON.done(function(){function o(){var o=0,i=$(".form__subject");i.val()||i.val(i.attr("placeholder")),$(".form__row").each(function(){$(this).children().first().val().length<3?(o++,$(this).children().first().css("border-color","#990000"),$(this).find("label span").remove(),$(this).find("label").append("<span> ("+e.contact.minimumError+")</span>")):($(this).children().first().css("border-color","#dfdfe4"),$(this).find("label span").remove())}),n.validateEmail($(".form__email").val())?($(".form__email  + label span").remove(),$(".form__email").css("border-color","#dfdfe4")):(o++,console.log("Check email"),$(".form__email  + label span").remove(),$(".form__email").css("border-color","#990000"),$(".form__email  + label").append("<span> ("+e.contact.emailError+")</span>")),console.log("Errors: "+o),0===o&&t.grecaptcha.execute()}var e=t.dataJSON.responseJSON;$(".contact__details").html(e.contact.description),$(".form__name + label").html(e.contact.name),$(".form__email  + label").html(e.contact.email),$(".form__subject  + label").html(e.contact.subject),$(".form__subject").attr("placeholder",e.contact.defaultSubject),$(".form__message  + label").html(e.contact.message),$(".form__submit").html(e.contact.submit),window.sendData=function(){var o=$("form").attr("action"),t={name:$(".form__name").val(),email:$(".form__email").val(),subject:$(".form__subject").val(),massage:$(".form__message").val()};$.post(o,{description:t.description,name:t.name,email:t.email,subject:t.subject,massage:t.massage,sendOk:e.sendOk,sendError:e.sendError}).done(function(o){$(".g-recaptcha").text(o)})},$(".form__submit").click(function(){o()}),$(".form").keyup(function(e){13===e.keyCode&&o()})}).then(function(){$(".loading").fadeOut(),$(".content").fadeIn(function(){console.log(i),$.getScript("https://www.google.com/recaptcha/api.js")})})}]);